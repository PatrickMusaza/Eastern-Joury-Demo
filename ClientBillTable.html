<p class="h4 mb-4 text-center">Client Bill Database</p>

<!-- Search Form -->
<form id="searchClientBillForm" class="form-inline mb-4" onsubmit="handleClientBillSearch(event)">
    <div class="input-group w-100">
        <input type="text" class="form-control form-control-sm" id="searchText"
            placeholder="Search by Bill No, Shipper Name, Telephone No, Container No">
        <button type="submit" class="btn btn-sm btn-primary">Search</button>
    </div>
</form>

<!-- Client Bill Table -->
<div class="table-responsive">
    <table class="table table-striped-custom">
        <thead>
            <tr>
                <th>Bill No</th>
                <th>Shipper Name</th>
                <th>Telephone Number</th>
                <th>Container No</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="clientBillTable">
            <!-- Rows will be dynamically inserted here -->
        </tbody>
    </table>
</div>

<!-- Pagination Controls -->
<div class="d-flex justify-content-center mt-3">
    <nav aria-label="Page navigation">
        <ul class="pagination" id="paginationControls">
            <!-- Pagination buttons will be dynamically inserted here -->
        </ul>
    </nav>
</div>

<!-- Receipt Preview Modal -->
<div class="modal fade" id="receiptPreviewModal" tabindex="-1" aria-labelledby="receiptPreviewModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="receiptPreviewModalLabel">Receipt Preview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Added styling for better visibility -->
                <iframe id="receiptPreviewIframe" style="width: 100%; height: 500px; border: 1px solid #ccc;"
                    frameborder="0">
                </iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" onclick="printIframe('receiptPreviewIframe')">Print</button>
                <!-- Download button dynamically set -->
                <a id="downloadReceiptBtn" class="btn btn-primary" download>Download Receipt</a>
            </div>
        </div>
    </div>
</div>

<!-- House Waybill Preview Modal -->
<div class="modal fade" id="houseWaybillPreviewModal" tabindex="-1" aria-labelledby="houseWaybillPreviewModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">House Waybill Preview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <iframe id="houseWaybillPreviewIframe"
                    style="width: 100%; height: 500px; border: 1px solid #ccc;"></iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" onclick="printIframe('houseWaybillPreviewIframe')">Print</button>
                <a id="downloadHouseWaybillBtn" class="btn btn-primary" download>Download House Waybill</a>
            </div>
        </div>
    </div>
</div>

<!-- Manifest Preview Modal -->
<div class="modal fade" id="manifestPreviewModal" tabindex="-1" aria-labelledby="manifestPreviewModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="manifestPreviewModalLabel">Manifest Preview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Added styling for better visibility -->
                <iframe id="manifestPreviewIframe" style="width: 100%; height: 500px; border: 1px solid #ccc;"
                    frameborder="0">
                </iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" onclick="printIframe('manifestPreviewIframe')">Print</button>
                <!-- Download button dynamically set -->
                <a id="downloadManifestBtn" class="btn btn-primary" download>Download Manifest</a>
            </div>
        </div>
    </div>
</div>

<!-- Loading List Preview Modal -->
<div class="modal fade" id="loadingListPreviewModal" tabindex="-1" aria-labelledby="loadingListPreviewModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl"> <!-- Changed to modal-xl for better viewing -->
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loadingListPreviewModalLabel">Loading List Preview</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
                <iframe id="loadingListPreviewIframe" 
                        style="width: 100%; height: 70vh; border: none;"
                        frameborder="0">
                </iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                    <i class="fas fa-times me-1"></i> Close
                </button>
                <button type="button" class="btn btn-success" onclick="printIframe('loadingListPreviewIframe')">
                    <i class="fas fa-print me-1"></i> Print
                </button>
                <!-- PDF Download Button -->
                <a id="downloadLoadingListBtn" class="btn btn-primary">
                    <i class="fas fa-file-pdf me-1"></i> Download PDF
                </a>
                <!-- Excel Download Button -->
                <a id="downloadExcelLoadingListBtn" class="btn btn-success">
                    <i class="fas fa-file-excel me-1"></i> Download Excel
                </a>
            </div>
        </div>
    </div>
</div>


<!-- Item List Preview Modal -->
<div class="modal fade" id="itemListPreviewModal" tabindex="-1" aria-labelledby="itemListPreviewModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="itemListPreviewModalLabel">Item Piece Count Preview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Added styling for better visibility -->
                <iframe id="itemListPreviewIframe" style="width: 100%; height: 500px; border: 1px solid #ccc;"
                    frameborder="0">
                </iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" onclick="printIframe('itemListPreviewIframe')">Print</button>
                <!-- Download button dynamically set -->
                <a id="downloadItemListBtn" class="btn btn-primary" download>Download Item Piece Count</a>
            </div>
        </div>
    </div>
</div>

<!-- Load More Button 
<div class="text-center mt-3">
    <button type="button" class="btn btn-success btn-sm" onclick="loadAllRecords()">Load All Records</button>
</div>-->